function enableStickyOnlyIfJavascriptIsAvailable(){treeNav.classList.add("nav-lhs-sticky");window.addEventListener("scroll",()=>setTreeNavHeight());window.addEventListener("resize",()=>setTreeNavHeight())}function setTreeNavHeight(){const t=document.getElementById("trackerpopup"),i=document.getElementsByTagName("footer")[0];treeNav.style.height="100vh";const n=document.querySelector(".pin-to-bottom"),u=!!n&&getComputedStyle(n).position==="fixed",f=!!t&&t.checked,e=!!n&&n.getBoundingClientRect().height,r=treeNav.getBoundingClientRect().top,o=!!treeNav&&getComputedStyle(treeNav).position==="fixed";o===!0&&window.innerHeight+window.scrollY>document.documentElement.offsetHeight-i.clientHeight?treeNav.style.height=document.documentElement.scrollHeight-document.documentElement.scrollTop-i.clientHeight+`px`:(heightAdjustment=u&&!f&&r>=0?e:0,treeNav.style.height=`calc(100vh - ${Math.abs(r)+heightAdjustment}px`);const s=document.querySelector(".page-header").clientHeight+document.querySelector(".navigation-top").clientHeight-window.scrollY,h=window.scrollY>document.querySelector(".page-header").clientHeight+document.querySelector(".navigation-top").clientHeight;treeNav.style.top=h?``:window.innerWidth>600?s+`px`:``}function bindToTreeNavClick(){if(location.hash){const n=document.querySelector(`[href="`+location.pathname+location.hash+`"]`);n&&(clearSelected(),setSelected(n),setTimeout(setTreeNavHeight,100))}const n=treeNav.querySelectorAll("li a");for(const t of n)t.addEventListener("click",n=>{clearSelected(),setSelected(n.target),setTimeout(setTreeNavHeight,100)})}function bindToProgressCheckboxToggle(){const n=document.getElementById("trackerpopup");n!==null&&n.addEventListener("change",function(){this.checked||setTimeout(()=>setTreeNavHeight(),500)})}function clearSelected(){const n=treeNav.querySelector(".selected");n&&n.classList.remove("selected")}function setSelected(n){n&&n.classList.add("selected")}function init(){treeNav&&(enableStickyOnlyIfJavascriptIsAvailable(),bindToTreeNavClick(),bindToProgressCheckboxToggle(),setTreeNavHeight())}const treeNav=document.getElementById("tree-nav");document.addEventListener("DOMContentLoaded",()=>init())